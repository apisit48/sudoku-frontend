import{p as $,i as Q,c as r,r as ee,a as D,g as ce,s as B,o as ve,b as de,d as P,f as we,e as Te,h as Be,j as Ce,k as me,l as U,m as u,n as fe,t as J,q as ge,u as ye,v as Le,w as Pe,x as F,y as $e,z as Re,A as pe,B as Ae,C as ze,D as z,E as M,F as h,G as O,H as Me,I as Ee,J as Ne,K as He,L as ne,M as De}from"./index-bc405bf9.js";import{u as Oe}from"./app-09add99f.js";import{a as Ue}from"./axios-4a70c6fc.js";import{_ as je}from"./_plugin-vue_export-helper-c27b6911.js";import{V as K}from"./VCol-c8ac2002.js";import{V as se}from"./VBtn-5d7d800f.js";import{u as he,V as Fe,a as Ke,b as qe,c as Ze}from"./VMenu-6bf97494.js";import{m as te,a as We,u as Xe,b as Ye,V as Ge}from"./loader-195af9a8.js";import{m as Z,u as j}from"./useRender-926a478b.js";import{V as Je}from"./forwardRefs-0f8e8be0.js";import{u as Qe,m as et,a as tt,b as at,c as lt,V as G}from"./VGrid-a65038e9.js";import{V as ot}from"./VAvatar-c2a36682.js";import{u as ue}from"./websocket-faccd31e.js";import"./index-cd19c8ed.js";import"./_commonjsHelpers-042e6b4d.js";const q=Symbol.for("vuetify:layout"),be=Symbol.for("vuetify:layout-item"),re=1e3,nt=$({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),st=$({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function ut(){const e=Q(q);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function rt(e){const o=Q(q);if(!o)throw new Error("[Vuetify] Could not find injected layout");const t=e.id??`layout-item-${Te()}`,s=ce("useLayoutItem");de(be,{id:t});const l=B(!1);Be(()=>l.value=!0),Ce(()=>l.value=!1);const{layoutItemStyles:a,layoutItemScrimStyles:n}=o.register(s,{...e,active:r(()=>l.value?!1:e.active.value),id:t});return me(()=>o.unregister(t)),{layoutItemStyles:a,layoutRect:o.layoutRect,layoutItemScrimStyles:n}}const it=(e,o,t,s)=>{let l={top:0,left:0,right:0,bottom:0};const a=[{id:"",layer:{...l}}];for(const n of e){const v=o.get(n),g=t.get(n),b=s.get(n);if(!v||!g||!b)continue;const i={...l,[v.value]:parseInt(l[v.value],10)+(b.value?parseInt(g.value,10):0)};a.push({id:n,layer:i}),l=i}return a};function ct(e){const o=Q(q,null),t=r(()=>o?o.rootZIndex.value-100:re),s=ee([]),l=D(new Map),a=D(new Map),n=D(new Map),v=D(new Map),g=D(new Map),{resizeRef:b,contentRect:i}=Qe(),w=r(()=>{const m=new Map,x=e.overlaps??[];for(const c of x.filter(S=>S.includes(":"))){const[S,y]=c.split(":");if(!s.value.includes(S)||!s.value.includes(y))continue;const T=l.get(S),A=l.get(y),E=a.get(S),N=a.get(y);!T||!A||!E||!N||(m.set(y,{position:T.value,amount:parseInt(E.value,10)}),m.set(S,{position:A.value,amount:-parseInt(N.value,10)}))}return m}),p=r(()=>{const m=[...new Set([...n.values()].map(c=>c.value))].sort((c,S)=>c-S),x=[];for(const c of m){const S=s.value.filter(y=>{var T;return((T=n.get(y))==null?void 0:T.value)===c});x.push(...S)}return it(x,l,a,v)}),f=r(()=>!Array.from(g.values()).some(m=>m.value)),_=r(()=>p.value[p.value.length-1].layer),C=r(()=>({"--v-layout-left":P(_.value.left),"--v-layout-right":P(_.value.right),"--v-layout-top":P(_.value.top),"--v-layout-bottom":P(_.value.bottom),...f.value?void 0:{transition:"none"}})),k=r(()=>p.value.slice(1).map((m,x)=>{let{id:c}=m;const{layer:S}=p.value[x],y=a.get(c),T=l.get(c);return{id:c,...S,size:Number(y.value),position:T.value}})),d=m=>k.value.find(x=>x.id===m),V=ce("createLayout"),L=B(!1);ve(()=>{L.value=!0}),de(q,{register:(m,x)=>{let{id:c,order:S,position:y,layoutSize:T,elementSize:A,active:E,disableTransitions:N,absolute:xe}=x;n.set(c,S),l.set(c,y),a.set(c,T),v.set(c,E),N&&g.set(c,N);const ae=we(be,V==null?void 0:V.vnode).indexOf(m);ae>-1?s.value.splice(ae,0,c):s.value.push(c);const le=r(()=>k.value.findIndex(H=>H.id===c)),W=r(()=>t.value+p.value.length*2-le.value*2),Ve=r(()=>{const H=y.value==="left"||y.value==="right",X=y.value==="right",Ie=y.value==="bottom",oe={[y.value]:0,zIndex:W.value,transform:`translate${H?"X":"Y"}(${(E.value?0:-110)*(X||Ie?-1:1)}%)`,position:xe.value||t.value!==re?"absolute":"fixed",...f.value?void 0:{transition:"none"}};if(!L.value)return oe;const I=k.value[le.value];if(!I)throw new Error(`[Vuetify] Could not find layout item "${c}"`);const Y=w.value.get(c);return Y&&(I[Y.position]+=Y.amount),{...oe,height:H?`calc(100% - ${I.top}px - ${I.bottom}px)`:A.value?`${A.value}px`:void 0,left:X?void 0:`${I.left}px`,right:X?`${I.right}px`:void 0,top:y.value!=="bottom"?`${I.top}px`:void 0,bottom:y.value!=="top"?`${I.bottom}px`:void 0,width:H?A.value?`${A.value}px`:void 0:`calc(100% - ${I.left}px - ${I.right}px)`}}),ke=r(()=>({zIndex:W.value-1}));return{layoutItemStyles:Ve,layoutItemScrimStyles:ke,zIndex:W}},unregister:m=>{n.delete(m),l.delete(m),a.delete(m),v.delete(m),g.delete(m),s.value=s.value.filter(x=>x!==m)},mainRect:_,mainStyles:C,getLayoutItem:d,items:k,layoutRect:i,rootZIndex:t});const R=r(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),_e=r(()=>({zIndex:t.value,position:o?"relative":void 0,overflow:o?"hidden":void 0}));return{layoutClasses:R,layoutStyles:_e,getLayoutItem:d,items:k,layoutRect:i,layoutRef:b}}const vt=$({text:String,...Z(),...te()},"VToolbarTitle"),dt=U()({name:"VToolbarTitle",props:vt(),setup(e,o){let{slots:t}=o;return j(()=>{const s=!!(t.default||t.text||e.text);return u(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var l;return[s&&u("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(l=t.default)==null?void 0:l.call(t)])]}})}),{}}}),mt=[null,"prominent","default","comfortable","compact"],Se=$({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>mt.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...et(),...Z(),...tt(),...We(),...te({tag:"header"}),...fe()},"VToolbar"),ie=U()({name:"VToolbar",props:Se(),setup(e,o){var f;let{slots:t}=o;const{backgroundColorClasses:s,backgroundColorStyles:l}=Xe(J(e,"color")),{borderClasses:a}=at(e),{elevationClasses:n}=lt(e),{roundedClasses:v}=Ye(e),{themeClasses:g}=ge(e),{rtlClasses:b}=ye(),i=B(!!(e.extended||(f=t.extension)!=null&&f.call(t))),w=r(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),p=r(()=>i.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Le({VBtn:{variant:"text"}}),j(()=>{var d;const _=!!(e.title||t.title),C=!!(t.image||e.image),k=(d=t.extension)==null?void 0:d.call(t);return i.value=!!(e.extended||k),u(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},s.value,a.value,n.value,v.value,g.value,b.value,e.class],style:[l.value,e.style]},{default:()=>[C&&u("div",{key:"image",class:"v-toolbar__image"},[t.image?u(G,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):u(ot,{key:"image-img",cover:!0,src:e.image},null)]),u(G,{defaults:{VTabs:{height:P(w.value)}}},{default:()=>{var V,L,R;return[u("div",{class:"v-toolbar__content",style:{height:P(w.value)}},[t.prepend&&u("div",{class:"v-toolbar__prepend"},[(V=t.prepend)==null?void 0:V.call(t)]),_&&u(dt,{key:"title",text:e.title},{text:t.title}),(L=t.default)==null?void 0:L.call(t),t.append&&u("div",{class:"v-toolbar__append"},[(R=t.append)==null?void 0:R.call(t)])])]}}),u(G,{defaults:{VTabs:{height:P(p.value)}}},{default:()=>[u(Je,null,{default:()=>[i.value&&u("div",{class:"v-toolbar__extension",style:{height:P(p.value)}},[k])]})]})]})}),{contentHeight:w,extensionHeight:p}}}),ft=$({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function gt(e){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=o;let s=0;const l=ee(null),a=B(0),n=B(0),v=B(0),g=B(!1),b=B(!1),i=r(()=>Number(e.scrollThreshold)),w=r(()=>Pe((i.value-a.value)/i.value||0)),p=()=>{const f=l.value;!f||t&&!t.value||(s=a.value,a.value="window"in f?f.pageYOffset:f.scrollTop,b.value=a.value<s,v.value=Math.abs(a.value-i.value))};return F(b,()=>{n.value=n.value||a.value}),F(g,()=>{n.value=0}),ve(()=>{F(()=>e.scrollTarget,f=>{var C;const _=f?document.querySelector(f):window;_&&_!==l.value&&((C=l.value)==null||C.removeEventListener("scroll",p),l.value=_,l.value.addEventListener("scroll",p,{passive:!0}))},{immediate:!0})}),me(()=>{var f;(f=l.value)==null||f.removeEventListener("scroll",p)}),t&&F(t,p,{immediate:!0}),{scrollThreshold:i,currentScroll:a,currentThreshold:v,isScrollActive:g,scrollRatio:w,isScrollingUp:b,savedScroll:n}}const yt=$({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...Se(),...st(),...ft(),height:{type:[Number,String],default:64}},"VAppBar"),pt=U()({name:"VAppBar",props:yt(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:t}=o;const s=ee(),l=$e(e,"modelValue"),a=r(()=>{var V;const d=new Set(((V=e.scrollBehavior)==null?void 0:V.split(" "))??[]);return{hide:d.has("hide"),inverted:d.has("inverted"),collapse:d.has("collapse"),elevate:d.has("elevate"),fadeImage:d.has("fade-image")}}),n=r(()=>{const d=a.value;return d.hide||d.inverted||d.collapse||d.elevate||d.fadeImage||!l.value}),{currentScroll:v,scrollThreshold:g,isScrollingUp:b,scrollRatio:i}=gt(e,{canScroll:n}),w=r(()=>e.collapse||a.value.collapse&&(a.value.inverted?i.value>0:i.value===0)),p=r(()=>e.flat||a.value.elevate&&(a.value.inverted?v.value>0:v.value===0)),f=r(()=>a.value.fadeImage?a.value.inverted?1-i.value:i.value:void 0),_=r(()=>{var L,R;if(a.value.hide&&a.value.inverted)return 0;const d=((L=s.value)==null?void 0:L.contentHeight)??0,V=((R=s.value)==null?void 0:R.extensionHeight)??0;return d+V});Re(r(()=>!!e.scrollBehavior),()=>{Ae(()=>{a.value.hide?a.value.inverted?l.value=v.value>g.value:l.value=b.value||v.value<g.value:l.value=!0})});const{ssrBootStyles:C}=he(),{layoutItemStyles:k}=rt({id:e.name,order:r(()=>parseInt(e.order,10)),position:J(e,"location"),layoutSize:_,elementSize:B(void 0),active:l,absolute:J(e,"absolute")});return j(()=>{const[d]=ie.filterProps(e);return u(ie,pe({ref:s,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...k.value,"--v-toolbar-image-opacity":f.value,height:void 0,...C.value},e.style]},d,{collapse:w.value,flat:p.value}),t)}),{}}}),ht={data(){return{loginStatus:!1,items:[{title:"Profile",link:"/user"},{title:"Leaderboard",link:"/leaderboard"},{title:"Logout"}]}},methods:{router(){return ze},submit(e){e.title==="Logout"&&Ue.post("/api/logout").then(o=>{alert(o.data),this.userStore.login=!1,this.userStore.username="",this.$router.push({path:"/"})}).catch(()=>{alert("Couldn't log out for some reason")})}},computed:{userStore(){return Oe()}}};function bt(e,o,t,s,l,a){return z(),M(pt,null,{default:h(()=>[u(K,{class:"text-left rounded-pill"},{default:h(()=>[u(K,{class:"v-icon--clickable",onClick:o[0]||(o[0]=n=>a.router().push({path:"/"}))},{default:h(()=>[O(" Sudoku Showdown ")]),_:1})]),_:1}),u(se,{onClick:o[1]||(o[1]=n=>a.router().push({path:"play"})),class:"w-25 bg-light-blue-lighten-5"},{default:h(()=>[O(" Play ")]),_:1}),u(K,{class:"text-right"},{default:h(()=>[a.userStore.login?(z(),M(Fe,{key:0,"open-on-hover":""},{activator:h(({props:n})=>[u(se,pe({color:"primary"},n),{default:h(()=>[u(Ge,null,{default:h(()=>[O("mdi-account")]),_:1})]),_:2},1040)]),default:h(()=>[u(Ke,null,{default:h(()=>[(z(!0),Me(Ee,null,Ne(l.items,(n,v)=>(z(),M(qe,{key:v,router:"",to:n.link,onClick:g=>a.submit(n)},{default:h(()=>[u(Ze,null,{default:h(()=>[O(He(n.title),1)]),_:2},1024)]),_:2},1032,["to","onClick"]))),128))]),_:1})]),_:1})):ne("",!0),a.userStore.login?ne("",!0):(z(),M(K,{key:1,onClick:o[2]||(o[2]=n=>a.router().push({path:"login"})),class:"v-icon--clickable"},{default:h(()=>[O(" Login ")]),_:1}))]),_:1})]),_:1})}const St=je(ht,[["render",bt]]);const _t=$({scrollable:Boolean,...Z(),...te({tag:"main"})},"VMain"),xt=U()({name:"VMain",props:_t(),setup(e,o){let{slots:t}=o;const{mainStyles:s}=ut(),{ssrBootStyles:l}=he();return j(()=>u(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[s.value,l.value,e.style]},{default:()=>{var a,n;return[e.scrollable?u("div",{class:"v-main__scroller"},[(a=t.default)==null?void 0:a.call(t)]):(n=t.default)==null?void 0:n.call(t)]}})),{}}}),Vt={__name:"View",setup(e){return(o,t)=>{const s=De("router-view");return z(),M(xt,null,{default:h(()=>[u(s)]),_:1})}}};const kt=$({...Z(),...nt({fullHeight:!0}),...fe()},"VApp"),It=U()({name:"VApp",props:kt(),setup(e,o){let{slots:t}=o;const s=ge(e),{layoutClasses:l,layoutStyles:a,getLayoutItem:n,items:v,layoutRef:g}=ct(e),{rtlClasses:b}=ye();return j(()=>{var i;return u("div",{ref:g,class:["v-application",s.themeClasses.value,l.value,b.value,e.class],style:[a.value,e.style]},[u("div",{class:"v-application__wrap"},[(i=t.default)==null?void 0:i.call(t)])])}),{getLayoutItem:n,items:v,theme:s}}}),wt={created(){ue().initialize()},beforeUnmount(){ue().disconnect()}},jt=Object.assign(wt,{__name:"Default",setup(e){return(o,t)=>(z(),M(It,null,{default:h(()=>[u(St),u(Vt)]),_:1}))}});export{jt as default};
